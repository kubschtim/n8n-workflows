{
    "name": "personal manager",
    "nodes": [
      {
        "parameters": {},
        "id": "6085e723-f8ca-46dc-8660-dffe65ab82dd",
        "name": "Merge",
        "type": "n8n-nodes-base.merge",
        "typeVersion": 3.2,
        "position": [
          208,
          64
        ]
      },
      {
        "parameters": {
          "operation": "getAll",
          "calendar": {
            "__rl": true,
            "mode": "list",
            "value": ""
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleCalendar",
        "typeVersion": 1.3,
        "position": [
          -400,
          32
        ],
        "id": "df9b41ad-7b60-4676-b8f9-5f4c40c7aa8a",
        "name": "Get many events"
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 1
            },
            "conditions": [
              {
                "id": "has-events",
                "leftValue": "={{ $input.all().length }}",
                "rightValue": 0,
                "operator": {
                  "type": "number",
                  "operation": "gt"
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "id": "78c4a92d-dee1-4d23-8d4a-3950bcf63692",
        "name": "Any events?",
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.1,
        "position": [
          -208,
          32
        ]
      },
      {
        "parameters": {
          "rule": {
            "interval": [
              {
                "triggerAtHour": 7
              }
            ]
          }
        },
        "id": "01288873-d6a2-4676-8d2c-e6636569e894",
        "name": "Daily @7 am",
        "type": "n8n-nodes-base.scheduleTrigger",
        "typeVersion": 1.2,
        "position": [
          -608,
          32
        ],
        "notes": "Trigger lÃ¤uft jeden Tag um 7:00 Uhr morgens"
      },
      {
        "parameters": {
          "jsCode": "// Format events for WhatsApp\nconst events = $input.all();\nconst today = new Date().toLocaleDateString('en-US', { \n  weekday: 'long', \n  year: 'numeric', \n  month: 'long', \n  day: 'numeric' \n});\n\nlet message = `ğŸ—“ï¸ *Your schedule for today*\\nğŸ“… ${today}\\n\\n`;\n\nif (events.length === 0) {\n  message += \"No events today! ğŸ‰\\n\\nEnjoy your free day!\";\n} else {\n  message += `You have *${events.length} event${events.length > 1 ? 's' : ''}* today:\\n\\n`;\n  \n  events.forEach((event, index) => {\n    const item = event.json;\n    \n    // Parse time\n    let startTime = 'All day';\n    let endTime = '';\n    \n    if (item.start.dateTime) {\n      const start = new Date(item.start.dateTime);\n      const end = new Date(item.end.dateTime);\n      startTime = start.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });\n      endTime = ' - ' + end.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });\n    }\n    \n    // Emoji based on time of day\n    let emoji = 'ğŸ“Œ';\n    if (item.start.dateTime) {\n      const hour = new Date(item.start.dateTime).getHours();\n      if (hour < 12) emoji = 'ğŸŒ…';\n      else if (hour < 17) emoji = 'â˜€ï¸';\n      else emoji = 'ğŸŒ™';\n    }\n    \n    message += `${emoji} *${startTime}${endTime}*\\n`;\n    message += `   ğŸ“‹ ${item.summary || 'No title'}\\n`;\n    \n    // Add location if available\n    if (item.location) {\n      message += `   ğŸ“ ${item.location}\\n`;\n    }\n    \n    // Add description if available (shortened)\n    if (item.description) {\n      const shortDesc = item.description.substring(0, 100);\n      const desc = item.description.length > 100 ? shortDesc + '...' : shortDesc;\n      message += `   ğŸ’¬ ${desc}\\n`;\n    }\n    \n    // Meeting link if available\n    if (item.hangoutLink) {\n      message += `   ğŸ”— Online meeting available\\n`;\n    }\n    \n    message += '\\n';\n  });\n}\n\nreturn [{\n  json: {\n    message: message,\n    eventCount: events.length\n  }\n}];\n"
        },
        "id": "7851ee63-d7a9-4372-9020-b63bdb4932da",
        "name": "Format WhatsApp Message",
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          0,
          0
        ]
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "no-events-message",
                "name": "message",
                "value": "=ğŸ—“ï¸ *Guten Morgen!*\\nğŸ“… {{ $now.toLocaleString('de-DE', {weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'}) }}\\n\\nğŸ‰ *Keine Termine fÃ¼r heute!*\\n\\nGenieÃŸe deinen freien Tag! â˜€ï¸\\n\\n_SchÃ¶nen Tag wÃ¼nsche ich dir!_ ğŸ˜Š",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "id": "c7676370-e46c-4f6c-9474-1dd6c3971a9e",
        "name": "No events",
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          0,
          128
        ]
      }
    ],
    "pinData": {},
    "connections": {
      "Merge": {
        "main": [
          []
        ]
      },
      "Any events?": {
        "main": [
          [
            {
              "node": "Format WhatsApp Message",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "No events",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Daily @7 am": {
        "main": [
          [
            {
              "node": "Get many events",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Format WhatsApp Message": {
        "main": [
          [
            {
              "node": "Merge",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "No events": {
        "main": [
          [
            {
              "node": "Merge",
              "type": "main",
              "index": 1
            }
          ]
        ]
      }
    },
    "active": false,
    "settings": {
      "executionOrder": "v1"
    },
    "versionId": "ec47c322-c1bb-45c0-9e53-9e3577c44715",
    "meta": {
      "instanceId": "8ba5b87178cf36ad914eab86a837f8630151ee80f055208ac6e2871f0e093149"
    },
    "id": "RZ21cBzZdYny1aqu",
    "tags": []
  }